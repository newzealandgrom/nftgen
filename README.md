# ๐ฐ NFT Number Generator v2.0

ะะตะฝะตัะฐัะพั ัะฝะธะบะฐะปัะฝัั ะฝะพะผะตัะพะฒ ั ะผะธะฝัะธะฝะณะพะผ NFT ะฝะฐ TON ะฑะปะพะบัะตะนะฝ ะธ ะธะฝัะตะณัะฐัะธะตะน ั GetGems ะผะฐัะบะตัะฟะปะตะนัะพะผ.

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ **ะะปะฐัะฝะฐั ะณะตะฝะตัะฐัะธั NFT** - ะฟะพะปัะทะพะฒะฐัะตะปะธ ะฟะปะฐััั ะฒ TON ะทะฐ ะณะตะฝะตัะฐัะธั ัะฝะธะบะฐะปัะฝัั ะฝะพะผะตัะพะฒ
- ๐จ **ะะฒัะพะผะฐัะธัะตัะบะธะน ะผะธะฝัะธะฝะณ** - NFT ัะพะทะดะฐัััั ะฒ ะบะพะปะปะตะบัะธะธ ััะฐะทั ะฟะพัะปะต ะพะฟะปะฐัั
- ๐ **ะะดะผะธะฝ-ะฟะฐะฝะตะปั** - ะฑะตัะฟะปะฐัะฝะฐั ะณะตะฝะตัะฐัะธั ะดะปั ะฐะดะผะธะฝะพะฒ, ะฝะฐัััะพะนะบะฐ ัะตะฝั
- ๐ฑ **Telegram Mini App** - ัะดะพะฑะฝัะน ะธะฝัะตััะตะนั ะฟััะผะพ ะฒ Telegram
- ๐ **TON Connect** - ะฟัะพััะพะต ะฟะพะดะบะปััะตะฝะธะต ะบะพัะตะปัะบะพะฒ
- ๐ **GetGems ะธะฝัะตะณัะฐัะธั** - NFT ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพัะฒะปัะตััั ะฝะฐ ะผะฐัะบะตัะฟะปะตะนัะต

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโ
โ  Telegram Bot   โโโโโโถโ   FastAPI       โโโโโโถโ   PostgreSQL    โ
โ  (aiogram 3.x)  โ     โ   (uvicorn)     โ     โ                 โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโฌโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโดโโโโโโโโโโโโโ
                    โผ                         โผ
           โโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ
           โ  TON Center   โ         โ  TON Network  โ
           โ  (payments)   โ         โ  (minting)    โ
           โโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.11+
- PostgreSQL 15+
- TON Wallet ั ะฑะฐะปะฐะฝัะพะผ ะดะปั gas fees
- TON Center API key
- Telegram Bot Token

## ๐ ะัััััะน ััะฐัั

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ะฝะฐัััะพะนะบะฐ

```bash
git clone https://github.com/your/nft-number-generator.git
cd nft-number-generator

# ะะพะฟะธััะตะผ ะบะพะฝัะธะณ
cp .env.example .env
```

### 2. ะะฐะฟะพะปะฝะธัะต .env ัะฐะนะป

```env
# ะะฑัะทะฐัะตะปัะฝัะต ะฟะฐัะฐะผะตััั
BOT_TOKEN=your_bot_token
MAIN_ADMIN_ID=your_telegram_id
TON_API_KEY=your_toncenter_api_key
ADMIN_WALLET=EQxxx...
RECIPIENT_WALLET=EQxxx...
MINTER_MNEMONIC=word1 word2 ... word24
NFT_COLLECTION_ADDRESS=EQxxx...
WEB_APP_URL=https://your-domain.com
```

### 3. ะะฐะฟััะบ ัะตัะตะท Docker

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose up -d

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f
```

### 4. ะะฐะฟััะบ ะปะพะบะฐะปัะฝะพ (ะดะปั ัะฐะทัะฐะฑะพัะบะธ)

```bash
# ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ะธะปะธ: venv\Scripts\activate  # Windows

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt

# ะะฐะฟััะบ PostgreSQL (ะตัะปะธ ะฝะตั)
docker-compose up -d db

# ะะฐะฟััะบ API
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000

# ะ ะพัะดะตะปัะฝะพะผ ัะตัะผะธะฝะฐะปะต - ะทะฐะฟััะบ ะฑะพัะฐ
python -m bot.main
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
nft-number-generator-v2/
โโโ api/
โ   โโโ main.py              # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โโโ bot/
โ   โโโ main.py              # Telegram ะฑะพั
โโโ database/
โ   โโโ models.py            # SQLAlchemy ะผะพะดะตะปะธ
โ   โโโ connection.py        # ะะพะดะบะปััะตะฝะธะต ะบ ะะ
โโโ services/
โ   โโโ ton_blockchain.py    # ะะฐะฑะพัะฐ ั TON API
โ   โโโ nft_minting.py       # ะะธะฝัะธะฝะณ NFT
โ   โโโ order_service.py     # ะะฑัะฐะฑะพัะบะฐ ะทะฐะบะฐะทะพะฒ
โ   โโโ number_generator.py  # ะะตะฝะตัะฐัะธั ะฝะพะผะตัะพะฒ
โโโ web/
โ   โโโ templates/           # HTML ัะฐะฑะปะพะฝั
โ   โโโ static/              # CSS, JS, ะธะทะพะฑัะฐะถะตะฝะธั
โโโ contracts/               # TON ะบะพะฝััะฐะบัั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
โโโ scripts/                 # ะฃัะธะปะธัั
โโโ docker-compose.yml
โโโ Dockerfile
โโโ requirements.txt
โโโ .env.example
โโโ README.md
```

## ๐ง ะะฐัััะพะนะบะฐ NFT ะบะพะปะปะตะบัะธะธ

### 1. ะะตะฟะปะพะน ะบะพะปะปะตะบัะธะธ

ะะตัะตะด ะทะฐะฟััะบะพะผ ะฝะตะพะฑัะพะดะธะผะพ ะทะฐะดะตะฟะปะพะธัั NFT ะบะพะปะปะตะบัะธั ะฝะฐ TON. ะัะฟะพะปัะทัะนัะต ััะฐะฝะดะฐัั TEP-62.

```bash
# ะัะฟะพะปัะทัะนัะต tonkeeper ะธะปะธ ton-cli ะดะปั ะดะตะฟะปะพั
# ะกะพััะฐะฝะธัะต ะฐะดัะตั ะบะพะปะปะตะบัะธะธ ะฒ NFT_COLLECTION_ADDRESS
```

### 2. ะะฐัััะพะนะบะฐ ะผะตัะฐะดะฐะฝะฝัั

ะะตัะฐะดะฐะฝะฝัะต NFT ะดะพะปะถะฝั ะฑััั ะดะพัััะฟะฝั ะฟะพ URL. ะกัััะบัััะฐ:

```json
{
  "name": "Number #111 XX XXX XX",
  "description": "Exclusive NFT Phone Number",
  "image": "https://your-domain.com/static/images/nft_0.png",
  "attributes": [
    {"trait_type": "Number", "value": "111 XX XXX XX"}
  ]
}
```

### 3. ะะทะพะฑัะฐะถะตะฝะธั NFT

ะกะพะทะดะฐะนัะต ะธะทะพะฑัะฐะถะตะฝะธั ะดะปั NFT ะธ ัะฐะทะผะตััะธัะต ะธั ะฒ `web/static/images/`.

## ๐ณ ะัะพัะตัั ะพะฟะปะฐัั

1. ะะพะปัะทะพะฒะฐัะตะปั ะฟะพะดะบะปััะฐะตั TON ะบะพัะตะปัะบ
2. ะะฐะถะธะผะฐะตั "ะกะณะตะฝะตัะธัะพะฒะฐัั NFT"
3. ะะพะปััะฐะตั ัััะปะบั ะดะปั ะพะฟะปะฐัั (ton:// deep link)
4. ะะฟะปะฐัะธะฒะฐะตั ัะตัะตะท ะบะพัะตะปัะบ
5. ะะฐะถะธะผะฐะตั "ะฏ ะพะฟะปะฐัะธะป"
6. ะกะธััะตะผะฐ ะฟัะพะฒะตััะตั ััะฐะฝะทะฐะบัะธั ัะตัะตะท TON Center API
7. ะัะธ ััะฟะตัะต - ะณะตะฝะตัะธััะตััั ะฝะพะผะตั ะธ ะผะธะฝัะธััั NFT
8. NFT ะฟะพัะฒะปัะตััั ะฒ ะบะพัะตะปัะบะต ะฟะพะปัะทะพะฒะฐัะตะปั

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ะขัะฐะฝะทะฐะบัะธะธ ะฟัะพะฒะตัััััั ัะตัะตะท TON Center API
- UsedTransaction ะฟัะตะดะพัะฒัะฐัะฐะตั ะฟะพะฒัะพัะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต tx_hash
- ะขะฐะนะผะฐัั ะทะฐะบะฐะทะฐ - 1 ัะฐั
- ะะดะผะธะฝ ะพะฟัะตะดะตะปัะตััั ะฟะพ ะฐะดัะตัั ะบะพัะตะปัะบะฐ
- ะะพัะผะฐะปะธะทะฐัะธั ะฐะดัะตัะพะฒ ะดะปั ััะฐะฒะฝะตะฝะธั

## ๐ API Endpoints

### ะัะฑะปะธัะฝัะต

| ะะตัะพะด | ะััั | ะะฟะธัะฐะฝะธะต |
|-------|------|----------|
| GET | `/api/settings` | ะะพะปััะธัั ัะตะฝั ะณะตะฝะตัะฐัะธะธ |
| POST | `/api/order/create` | ะกะพะทะดะฐัั ะทะฐะบะฐะท |
| POST | `/api/order/check-payment` | ะัะพะฒะตัะธัั ะพะฟะปะฐัั |
| GET | `/api/order/{order_id}` | ะกัะฐััั ะทะฐะบะฐะทะฐ |
| GET | `/api/my-orders` | ะะพะธ ะทะฐะบะฐะทั |
| POST | `/api/link-wallet` | ะัะธะฒัะทะฐัั ะบะพัะตะปัะบ |

### ะะดะผะธะฝัะบะธะต (ััะตะฑััั X-Wallet-Address header)

| ะะตัะพะด | ะััั | ะะฟะธัะฐะฝะธะต |
|-------|------|----------|
| GET | `/api/admin/settings` | ะัะต ะฝะฐัััะพะนะบะธ |
| POST | `/api/admin/settings` | ะะฑะฝะพะฒะธัั ะฝะฐัััะพะนะบะธ |
| GET | `/api/admin/stats` | ะกัะฐัะธััะธะบะฐ |

## ๐ค ะะพะผะฐะฝะดั ะฑะพัะฐ

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `/start` | ะะปะฐะฒะฝะพะต ะผะตะฝั |
| `/generate` | ะกะณะตะฝะตัะธัะพะฒะฐัั NFT |
| `/mynumbers` | ะะพะธ ะฝะพะผะตัะฐ |
| `/stats` | ะกัะฐัะธััะธะบะฐ |
| `/connect` | ะะพะดะบะปััะธัั ะบะพัะตะปัะบ |

## ๐ GetGems ะธะฝัะตะณัะฐัะธั

NFT ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพัะฒะปัะตััั ะฝะฐ GetGems ะฟะพัะปะต ะผะธะฝัะธะฝะณะฐ ะฑะปะฐะณะพะดะฐัั:
- ะกัะฐะฝะดะฐััั TEP-62/TEP-64
- ะัะฐะฒะธะปัะฝัะผ ะผะตัะฐะดะฐะฝะฝัะผ
- marketplace: "getgems.io" ะฒ ะฐััะธะฑััะฐั

## ๐ ะะพะณะธัะพะฒะฐะฝะธะต

ะัะพะตะบั ะธัะฟะพะปัะทัะตั loguru ะดะปั ะปะพะณะธัะพะฒะฐะฝะธั:

```python
from loguru import logger
logger.info("Order created: {}", order_id)
logger.error("Payment verification failed: {}", error)
```

## ๐ Troubleshooting

### ะะฟะปะฐัะฐ ะฝะต ะฝะฐัะพะดะธััั
- ะัะพะฒะตัััะต TON_API_KEY
- ะฃะฑะตะดะธัะตัั ััะพ RECIPIENT_WALLET ะฟัะฐะฒะธะปัะฝัะน
- ะะพะดะพะถะดะธัะต 1-2 ะผะธะฝััั ะฟะพัะปะต ะพะฟะปะฐัั

### NFT ะฝะต ะผะธะฝัะธััั
- ะัะพะฒะตัััะต ะฑะฐะปะฐะฝั MINTER_MNEMONIC ะบะพัะตะปัะบะฐ
- ะฃะฑะตะดะธัะตัั ััะพ NFT_COLLECTION_ADDRESS ะฟัะฐะฒะธะปัะฝัะน
- ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ

### ะะพั ะฝะต ะพัะฒะตัะฐะตั
- ะัะพะฒะตัััะต BOT_TOKEN
- ะฃะฑะตะดะธัะตัั ััะพ ะฑะพั ะฝะต ะทะฐะฟััะตะฝ ะดะฒะฐะถะดั
- ะัะพะฒะตัััะต ะปะพะณะธ docker-compose logs bot

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ค ะะพะดะดะตัะถะบะฐ

- Telegram: @your_support_bot
- Email: support@your-domain.com
